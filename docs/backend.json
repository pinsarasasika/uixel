{
  "entities": {
    "WebsiteTemplate": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WebsiteTemplate",
      "type": "object",
      "description": "Represents a pre-made website template available for purchase or demo.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the website template."
        },
        "name": {
          "type": "string",
          "description": "Name of the website template."
        },
        "description": {
          "type": "string",
          "description": "Short description of the website template."
        },
        "price": {
          "type": "number",
          "description": "Price of the website template."
        },
        "livePreviewUrl": {
          "type": "string",
          "description": "URL for the live preview of the website template.",
          "format": "uri"
        },
        "imageUrl": {
          "type": "string",
          "description": "URL for the image of the website template.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category of the website template (e.g., Web, UI/UX, AI, Branding)."
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "price",
        "livePreviewUrl",
        "imageUrl",
        "category"
      ]
    },
    "PortfolioProject": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PortfolioProject",
      "type": "object",
      "description": "Represents a portfolio project showcased on the website.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the portfolio project."
        },
        "title": {
          "type": "string",
          "description": "Title of the portfolio project."
        },
        "description": {
          "type": "string",
          "description": "Description of the portfolio project."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL for the image of the portfolio project.",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category of the portfolio project (e.g., Web, UI/UX, AI, Branding)."
        },
        "projectUrl": {
          "type": "string",
          "description": "URL to the deployed project.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "title",
        "description",
        "imageUrl",
        "category",
        "projectUrl"
      ]
    },
    "ContactFormSubmission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactFormSubmission",
      "type": "object",
      "description": "Represents a submission from the contact form.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the contact form submission."
        },
        "name": {
          "type": "string",
          "description": "Name of the person submitting the form."
        },
        "email": {
          "type": "string",
          "description": "Email address of the person submitting the form.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "Message content from the contact form."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time when the contact form was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "message",
        "submissionDate"
      ]
    },
    "SeoOptimizationData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SeoOptimizationData",
      "type": "object",
      "description": "Represents SEO data generated for a specific content.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the SEO optimization data."
        },
        "contentId": {
          "type": "string",
          "description": "Unique identifier for the content that is being optimized."
        },
        "title": {
          "type": "string",
          "description": "The optimized SEO Title"
        },
        "description": {
          "type": "string",
          "description": "The optimized SEO Description"
        },
        "keywords": {
          "type": "string",
          "description": "Optimized keywords"
        }
      },
      "required": [
        "id",
        "contentId",
        "title",
        "description",
        "keywords"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}/websiteTemplates/{websiteTemplateId}",
        "definition": {
          "entityName": "WebsiteTemplate",
          "schema": {
            "$ref": "#/backend/entities/WebsiteTemplate"
          },
          "description": "Stores website templates created by each user. Accessible only to the user with the matching userId.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            },
            {
              "name": "websiteTemplateId",
              "description": "The unique identifier of the website template."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/portfolioProjects/{portfolioProjectId}",
        "definition": {
          "entityName": "PortfolioProject",
          "schema": {
            "$ref": "#/backend/entities/PortfolioProject"
          },
          "description": "Stores portfolio projects created by each user. Accessible only to the user with the matching userId.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            },
            {
              "name": "portfolioProjectId",
              "description": "The unique identifier of the portfolio project."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/contactFormSubmissions/{contactFormSubmissionId}",
        "definition": {
          "entityName": "ContactFormSubmission",
          "schema": {
            "$ref": "#/backend/entities/ContactFormSubmission"
          },
          "description": "Stores contact form submissions received by each user. Accessible only to the user with the matching userId.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            },
            {
              "name": "contactFormSubmissionId",
              "description": "The unique identifier of the contact form submission."
            }
          ]
        }
      },
      {
        "path": "/users/{userId}/seoOptimizationData/{seoOptimizationDataId}",
        "definition": {
          "entityName": "SeoOptimizationData",
          "schema": {
            "$ref": "#/backend/entities/SeoOptimizationData"
          },
          "description": "Stores SEO optimization data created by each user. Accessible only to the user with the matching userId.",
          "params": [
            {
              "name": "userId",
              "description": "The unique identifier of the user."
            },
            {
              "name": "seoOptimizationDataId",
              "description": "The unique identifier of the SEO optimization data."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to manage website templates, portfolio projects, contact form submissions, and SEO optimization data for the UIXEL Digital agency. The structure prioritizes authorization independence and simplifies security rules based on the user's request to only show each entity to that specific user. Private data is managed through path-based ownership. Each entity is stored under the `/users/{userId}` collection, ensuring that only the authenticated user can access their data.\n\n1.  **Website Templates:** Each user can create and manage their website templates under `/users/{userId}/websiteTemplates/{websiteTemplateId}`. This ensures that only the user who created the template can access it. The `websiteTemplates` collection stores all templates created by a specific user.\n\n2.  **Portfolio Projects:** Each user's portfolio projects are stored under `/users/{userId}/portfolioProjects/{portfolioProjectId}`. This allows each user to manage their portfolio items independently.\n\n3.  **Contact Form Submissions:** Contact form submissions are stored under `/users/{userId}/contactFormSubmissions/{contactFormSubmissionId}`. Although in a real application, these submissions would likely be accessible to administrators or specific support roles, this structure restricts access solely to the user, fulfilling the specific requirement.\n\n4. **SEO Optimization Data**: Each user's SEO data is stored under `/users/{userId}/seoOptimizationData/{seoOptimizationDataId}`. This structure allows each user to create and manage their SEO optimization independently.\n\nThis structure achieves authorization independence by ensuring that access control is solely based on the user's ID in the path. There are no `get()` calls needed in the security rules to validate access. QAPs (Rules are not Filters) are supported because each collection contains data that can be securely listed based on the path-based ownership."
  }
}